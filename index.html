<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–ö–∞–º–µ–Ω—å-–ù–æ–∂–Ω–∏—Ü—ã-–ë—É–º–∞–≥–∞-–Ø—â–µ—Ä–∏—Ü–∞-–°–ø–æ–∫ ‚Äî –õ–æ–±–±–∏ 2 –∏–≥—Ä–æ–∫–∞</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <h1>–ö–ù–ë –ë–ª–∏—Ü ‚Äî –¥—É—ç–ª—å 1√ó1</h1>
    <div class="nick-box">
      <span class="muted">–¢–≤–æ–π –Ω–∏–∫:</span>
      <span id="nickname" class="nickname-pill">‚Äî</span>
      <button id="changeNickBtn" class="btn">–°–º–µ–Ω–∏—Ç—å –Ω–∏–∫</button>
    </div>
  </header>

  <main class="container">
    <section id="about" class="card">
      <h2>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å</h2>
      <div class="howto">
        <p>1) –°–æ–∑–¥–∞–π—Ç–µ –ª–æ–±–±–∏ –∏–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å.</p>
        <p>2) –ü—Ä–∞–≤–∏–ª–∞:</p>
        <ul class="rules">
          <li>üóø –±—å—ë—Ç ‚úÇÔ∏è –∏ –ø—Ä–∏–¥–∞–≤–ª–∏–≤–∞–µ—Ç ü¶é</li>
          <li>‚úÇÔ∏è —Ä–µ–∂—É—Ç üìÑ –∏ –æ–±–µ–∑–≥–ª–∞–≤–ª–∏–≤–∞—é—Ç ü¶é</li>
          <li>üìÑ –Ω–∞–∫—Ä—ã–≤–∞–µ—Ç üóø –∏ –æ–ø—Ä–æ–≤–µ—Ä–≥–∞–µ—Ç üññ</li>
          <li>ü¶é –µ—Å—Ç üìÑ –∏ —Ç—Ä–∞–≤–∏—Ç üññ</li>
          <li>üññ –ª–æ–º–∞–µ—Ç ‚úÇÔ∏è –∏ –∏—Å–ø–∞—Ä—è–µ—Ç üóø</li>
        </ul>
        <p>3) –ù–∞ —Ö–æ–¥ ‚Äî 15 —Å–µ–∫—É–Ω–¥.</p>
        <p>4) –ü–æ–±–µ–¥–∏—Ç–µ–ª—å ‚Äî –Ω–∞ —ç–∫—Ä–∞–Ω–µ.</p>
      </div>
    </section>

    <section id="lobbyActions" class="card">
      <h2>–õ–æ–±–±–∏</h2>
      <div class="actions">
        <button id="createLobbyBtn" class="btn primary">–°–æ–∑–¥–∞—Ç—å –ª–æ–±–±–∏</button>
        <input id="joinCodeInput" type="text" maxlength="4" placeholder="–ö–û–î" class="code-input" />
        <button id="joinLobbyBtn" class="btn">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
      </div>
      <div class="lobby-list">
        <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ–±–±–∏</h3>
        <ul id="lobbiesUl"></ul>
      </div>
    </section>

    <section id="room" class="card hidden">
      <div class="room-header">
        <h2>–ö–æ–º–Ω–∞—Ç–∞ <span id="roomCode"></span></h2>
        <div class="room-links">
          <button id="leaveToNewBtn" class="btn danger">–í –Ω–æ–≤—ã–π –º–∞—Ç—á</button>
        </div>
      </div>

      <div class="players">
        <div class="player" id="hostBox">
          <div class="avatar" id="hostAvatar">?</div>
          <div class="name" id="hostName">@‚Äî</div>
          <span class="badge">–•–æ—Å—Ç</span>
        </div>
        <div class="vs">VS</div>
        <div class="player" id="guestBox">
          <div class="avatar" id="guestAvatar">?</div>
          <div class="name" id="guestName">@‚Äî</div>
          <span class="badge">–ì–æ—Å—Ç—å</span>
        </div>
      </div>

      <div class="status-line">
        <span id="statusText">–û–∂–∏–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞‚Ä¶</span>
        <span id="timer" class="timer hidden">15</span>
      </div>

      <div id="choices" class="choices">
        <button class="choice" data-move="rock">üóø</button>
        <button class="choice" data-move="paper">üìÑ</button>
        <button class="choice" data-move="scissors">‚úÇÔ∏è</button>
        <button class="choice" data-move="lizard">ü¶é</button>
        <button class="choice" data-move="spock">üññ</button>
      </div>

      <div id="reveal" class="reveal hidden">
        <div class="emoji left" id="revealLeft">‚ùì</div>
        <div class="emoji right" id="revealRight">‚ùì</div>
        <div class="reason" id="reasonText"></div>
      </div>

      <div id="resultBanner" class="result-banner hidden">
        <div id="resultText" class="result-text">‚Äî</div>
        <div class="result-actions">
          <button id="rematchBtn" class="btn primary">–†–µ–≤–∞–Ω—à</button>
        </div>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <span class="muted">–û–Ω–ª–∞–π–Ω —Ä–µ–∂–∏–º</span>
  </footer>

  <script type="module" src="app.js"></script>
  <script>
    // Fallback CSS variable for iOS notch safe area if needed
    document.documentElement.style.setProperty('--vh', window.innerHeight * 0.01 + 'px');
    window.addEventListener('resize', () => {
      document.documentElement.style.setProperty('--vh', window.innerHeight * 0.01 + 'px');
    });
  </script>
</body>
</html>
